# 关于Git分支

## 简介

从 Git 保存数据开始，要知道Git保存数据时不是文件的变化或者差异，而是一系列不同时刻的文件快照。再进行提交操作的时候，Git会保存一个提交对象，知道了Git保存数据的方式，我们可以很自然的想到——该提交对象会包含一个指向暂存内容快照的指针。但不仅仅这样，该提交对象还包含了作者的姓名和邮箱，提交时输入的信息以及指向它父对象的指针。首次提交产生的提交对象没有父对象。普通提交操作产生的提交对象由一个父对象，而由多个分支合并产生的提交对象有多个父对象。

为了更加形象地来说明，我们假设现在由一个工作目录，里面包含了三个将要被暂存和提交的文件。暂存操作会为每一个文件计算校验和，然后会把当前版本的文建快照保存到Git仓库中(Git使用blob对象来保存它们)，最终将校验和加入到暂存区域等待提交。当使用git commit进行提交操作的时候，Git会首先计算每一个子目录的校验和，然后在Git仓库中保存这些校验和为树对象，随后，Git便会创建一个提交对象，它除了包含上面提到的那些信息外，还包含指向这个树对象的指针，如此一来，Git就可以在需要的时候重现此次保存的快照。

现在，Git仓库中有五个对象：三个blob对象（保存着文件快照）、一个树对象（记录着目录结构和blob对象索引）、一个提交对象（包含着指向前述树对象的指针和所有提交信息）。

做些修改后再次提交那么这次产生的提交对象会包含一个指向上次提交对象的指针。Git的分支，其实本质上仅仅是指向提交对象的可变指针，Git默认分支的名字是master，在多次提交操作之后，你其实已经有一个指向最后那个提交对象的master分支，他会在每次的提交操作中自动向前移动。它会在每次的提交操作中自动向前移动。

Git的master分支并不是一个特殊的分支，它就跟其他的分支完全没有区别，之所以几乎每一个仓库都有master分支是因为git init命令默认创建它，并且大多数人都懒得改动。。

## 分支创建

Git 是怎么创建新分支呢？很简单，它只是为你创建了一个可以移动的新的指针。比如创建一个testing分支，你需要使用`git branch`命令。`git branch testing`。这会在当前提交对象上创建一个指针。那么，git又是如何知道当前在哪一个分支上呢？也很简单，他有一个名为HEAD的特殊指针，注意它和其他版本控制系统的HEAD概念完全不同。在Git中，它是一个指针，指向当前所在的本地分支。注意创建后仅仅创建一个分支，并不会自动切换到分支上去。

可以使用 git log 命令查看各个分支当前所指的对象，提供这一功能的参数是 `--decorate`

## 分支切换

要切换到一个已经存在的分支，需要使用`git checkout`命令